(this.webpackJsonppaisanos=this.webpackJsonppaisanos||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n.n(c),r=n(20),i=n.n(r),o=(n(37),n(9)),l=n(3),u=(n(38),n(39),n(10)),j=n(11),b=n(30),d=n(19),h=n(5),m="FETCHING_QUOTES",O="FETCHED_QUOTES",f="APPEND_QUOTES",p="RESET_REQUEST",v={fetching:!0,data:[],maxRequest:1,query:""};var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(h.a)(Object(h.a)({},e),{},{fetching:!0});case O:return Object(h.a)(Object(h.a)({},e),{},{fetching:!1,data:t.payload.quotes,query:t.payload.query});case f:return Object(h.a)(Object(h.a)({},e),{},{fetching:!1,data:[].concat(Object(d.a)(e.data),Object(d.a)(t.payload)),maxRequest:++e.maxRequest});case p:return Object(h.a)(Object(h.a)({},e),{},{maxRequest:v.maxRequest});default:return e}},g=Object(j.c)({quotes:x}),N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||j.d,y=Object(j.d)(Object(j.a)(b.a),N()),q=Object(j.e)(g,{},y),C=n(12),k=n(13),S=n(15),E=n(14),w=n.p+"static/media/The_Simpsons_Logo.816fe84b.png",R=(n(44),function(){return Object(a.jsx)(o.b,{to:"/",className:"navbar-brand custom-navbar-brand",children:Object(a.jsx)("img",{src:w,alt:"The simpson",className:"brand-img"})})}),T=(n(46),n(31)),_=function(e){return function(t){var n=Object.assign({},t),s=Object(c.useState)(!0),r=Object(T.a)(s,2),i=r[0],o=r[1];return Object(a.jsx)(e,Object(h.a)(Object(h.a)({},n),{},{handleNavCollapse:function(){return o(!i)},isNavCollapsed:i}))}},F=_((function(e){var t=e.handleNavCollapse,n=e.isNavCollapsed;return Object(a.jsxs)("header",{className:"navbar navbar-expand-lg navbar-light custom-navbar",children:[Object(a.jsx)(R,{}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":!n,"aria-label":"Toggle navigation",onClick:t,children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsx)("div",{className:"".concat(n?"collapse":""," navbar-collapse custom-collapse"),id:"navbarSupportedContent",children:Object(a.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(o.b,{to:"/quotes",className:"nav-link",children:"Frases"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("a",{href:"/#",className:"nav-link",children:"Personajes"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("button",{className:"btn btn-primary my-2 my-sm-0 custom-nav-button",type:"submit",children:"Iniciar sesi\xf3n"})})]})})]})})),Q=(n(47),function(){return Object(a.jsx)("footer",{className:"footer",children:"\xa9 Paisanos"})}),L=(n(48),function(e){var t=e.children;return Object(a.jsxs)("div",{className:"container-fluid p-0 layout-container",children:[Object(a.jsx)(F,{}),t,Object(a.jsx)(Q,{})]})}),P=(n(49),function(e){Object(S.a)(n,e);var t=Object(E.a)(n);function n(){return Object(C.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"render",value:function(){return Object(a.jsx)(L,{children:Object(a.jsx)("div",{className:"col-12 landing-container",children:Object(a.jsxs)("span",{className:"hero-text-container text-center",children:[Object(a.jsx)("h2",{className:"hero-text",children:"\xa1Encontr\xe1 las frases de tus personajes favoritos!"}),Object(a.jsx)(o.b,{to:"/quotes",className:"btn btn-primary custom-btn",children:"Buscar"})]})})})}}]),n}(c.Component)),D=function(e){var t=e.query,n=void 0===t?"":t,a=e.limit,c=void 0===a?15:a,s=e.append,r=void 0!==s&&s;return function(e,t){var a=t(),s=[];e(M()),r&&(s=a.quotes.data),I({query:n,limit:c}).then((function(t){if(void 0!==t){var a=X(t,n),c=A(a,s);e(r?J(c):H(c,n))}}))}},U=function(e){return function(t,n){if(t(M()),""===e)t(H([],e));else{var a=n().quotes.data,c=X(a,e);t(H(c,e))}}},I=function(e){e.query;var t=e.limit,n=void 0===t?15:t,a=new URL("https://thesimpsonsquoteapi.glitch.me/quotes");return a.search=new URLSearchParams({count:n.toString()}).toString(),fetch(a.toString()).then((function(e){if(e.ok)return e.json();throw Error(e.statusText)})).then((function(e){return e})).catch((function(e){console.error(e)}))},M=function(){return{type:m}},B=function(){return{type:p}},H=function(e,t){return{type:O,payload:{quotes:e,query:t}}},J=function(e){return{type:f,payload:e}},X=function(e,t){return e.filter((function(e){return-1!==e.character.toLowerCase().indexOf(t)}))},A=function(e,t){var n=t.map((function(e){return e.quote}));return e.filter((function(e){return!n.includes(e.quote)}))},G=function(e){var t=function(t){return Object(a.jsx)(e,Object(h.a)({},t))};return t.displayName="SearchQuotes(Child)",Object(u.b)(null,{fetchQuotes:D,filterQuotes:U,resetRequest:B})(t)},K=(n(50),G((function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("input",{className:"form-control mr-sm-2 search-quotes-input",type:"text",placeholder:"Buscar","aria-label":"Buscar",onKeyPress:function(t){if("Enter"===t.key){t.preventDefault();var n=t.target.value;e.resetRequest(),e.filterQuotes(n)}}})})}))),V=(n(51),_((function(e){var t=e.handleNavCollapse,n=e.isNavCollapsed;return Object(a.jsxs)("header",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(a.jsx)(R,{}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mainMenu","aria-controls":"navbarSupportedContent","aria-expanded":!n,"aria-label":"Toggle navigation",onClick:t,children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsxs)("div",{className:"".concat(n?"collapse":""," navbar-collapse custom-search-collapse"),id:"mainMenu",children:[Object(a.jsx)("form",{className:"navbar-form ml-auto d-none d-lg-block",children:Object(a.jsx)(K,{})}),Object(a.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(o.b,{to:"/",className:"nav-link",href:"#",children:"Inicio"})}),Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(o.b,{to:"/",className:"nav-link",href:"#",children:"Frases"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("button",{className:"btn btn-primary my-2 my-sm-0 custom-search-button",type:"submit",children:"Iniciar sesi\xf3n"})})]})]})]})}))),z=function(e){var t=e.children;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(V,{}),t]})},W=(n(52),function(e){Object(S.a)(n,e);var t=Object(E.a)(n);function n(){return Object(C.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"col-3 col-xl-2 d-none d-lg-block side-filter-container",children:Object(a.jsx)("div",{className:"row side-filter-row",children:Object(a.jsx)("div",{className:"col-8 offset-2",children:Object(a.jsxs)("ul",{className:"list-unstyled",children:[Object(a.jsx)("li",{children:Object(a.jsx)("h5",{className:"list-title",children:"Personajes"})}),this.renderFilterNames()]})})})})}},{key:"renderFilterNames",value:function(){var e=this,t=this.props.quotes.map((function(e){return e.character}));return(t=Object(d.a)(new Set(t))).map((function(t){return Object(a.jsxs)("li",{children:[" ",Object(a.jsx)("span",{className:"characters-filter",onClick:function(){return e.filterClick(t)},children:t})]},t)}))}},{key:"filterClick",value:function(e){this.props.resetRequest(),this.props.filterQuotes(e.toLowerCase())}}]),n}(c.Component)),Y=G(Object(u.b)((function(e){return{quotes:e.quotes.data}}))(W)),Z=(n(53),function(e){var t=e.image,n=e.title,c=e.content;return Object(a.jsx)("div",{className:"col-12 col-sm-6 col-md-4 col-xl-3 custom-card",children:Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("img",{src:t,alt:n,className:"card-img-top"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",children:n}),Object(a.jsx)("p",{className:"card-text",children:c})]})]})})}),$=(n(54),function(){return Object(a.jsx)("div",{className:"row d-block d-lg-none",children:Object(a.jsx)("div",{className:"col-12 mobile-filter",children:Object(a.jsx)(K,{})})})}),ee=function(e){Object(S.a)(n,e);var t=Object(E.a)(n);function n(){return Object(C.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"render",value:function(){var e=this.props.quotes;return Object(a.jsxs)("div",{className:"col-12 col-lg-9 col-xl-10",children:[Object(a.jsx)($,{}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12 result-legend",children:this.showResultsLegend()})}),Object(a.jsx)("div",{className:"row",children:e.map((function(e,t){return Object(a.jsx)(Z,{image:e.image,title:e.character,content:e.quote},t)}))})]})}},{key:"showResultsLegend",value:function(){var e=this.props,t=e.quotes,n=e.query;if(t.length)return"Mostrando 1 - ".concat(t.length," ").concat(""!==n?'resultados para "'.concat(n,'"'):"")}}]),n}(c.Component),te=Object(u.b)((function(e){return{query:e.quotes.query}}))(ee),ne=n.p+"static/media/professor-frink.4cbc4ee0.png",ae=(n(55),function(){return Object(a.jsx)("div",{className:"col-12 col-lg-10 no-result",children:Object(a.jsx)("img",{src:ne,alt:"",className:"frink-img"})})}),ce=function(e){Object(S.a)(n,e);var t=Object(E.a)(n);function n(){return Object(C.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"render",value:function(){var e=this.props,t=e.quotes,n=e.fetching;return Object(a.jsx)(z,{children:Object(a.jsx)("div",{className:"container-fluid pt-4 pt-lg-0",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)(Y,{}),t.length||n?Object(a.jsx)(te,{quotes:t}):Object(a.jsx)(ae,{})]})})})}},{key:"componentDidMount",value:function(){var e=this.props.query;this.props.fetchQuotes({query:e})}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,c=a.quotes,s=a.maxRequest,r=a.fetching,i=this.props.query;if(!r&&c.length<15&&s<5){var o=15-c.length;this.props.fetchQuotes({query:i,limit:o,append:!0})}}}]),n}(c.Component),se=Object(u.b)((function(e){return{quotes:e.quotes.data,maxRequest:e.quotes.maxRequest,query:e.quotes.query,fetching:e.quotes.fetching}}),(function(e){return{fetchQuotes:function(t){return e(D(t))}}}))(ce);var re=function(){return Object(a.jsx)(u.a,{store:q,children:Object(a.jsx)(o.a,{children:Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{exact:!0,path:"/quotes/:query?",component:se}),Object(a.jsx)(l.b,{exact:!0,path:"/",component:P}),Object(a.jsx)(l.b,{exact:!0,render:function(){return Object(a.jsx)(l.a,{to:{pathname:"/"}})}})]})})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(re,{})}),document.getElementById("root")),ie()}},[[56,1,2]]]);
//# sourceMappingURL=main.3603808c.chunk.js.map